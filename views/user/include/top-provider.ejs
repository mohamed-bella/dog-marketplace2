<section class="relative py-20 bg-gray-50 overflow-hidden">
     <!-- Decorative Pattern -->
     <div class="absolute inset-0">
          <!-- Grid Pattern -->
          <div class="absolute inset-0" style="background-image: radial-gradient(circle at 1px 1px, #e5e7eb 1px, transparent 0); 
                      background-size: 40px 40px;">
          </div>

          <!-- Radial Gradient Overlay -->
          <div class="absolute inset-0 bg-gradient-to-b from-white via-transparent to-white"></div>
     </div>

     <div class="container mx-auto px-4 relative">
          <!-- Section Header -->
          <div class="max-w-2xl mx-auto text-center mb-12">
               <div class="inline-flex items-center px-4 py-2 bg-blue-50 rounded-full mb-4">
                    <svg class="w-5 h-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                         <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <span class="text-sm font-medium text-blue-600">Experts Vérifiés</span>
               </div>
               <h2 class="text-3xl font-bold text-gray-900 mb-4">
                    Top Prestataires
                    <span class="block text-blue-600">Mieux Notés</span>
               </h2>
               <p class="text-lg text-gray-600">
                    Découvrez nos experts soigneusement sélectionnés, reconnus pour leur excellence et leur professionnalisme
               </p>
          </div>

          <!-- Providers Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
               <% topProviders.forEach(provider=> { %>
                    <div class="group">
                         <a href="/@<%= provider.slug %>" class="block">
                              <!-- Card -->
                              <div class="bg-white rounded-2xl p-6 transition-all duration-300 hover:shadow-xl relative">
                                   <!-- Provider Info -->
                                   <div class="flex items-start space-x-4">
                                        <!-- Profile Image -->
                                        <div class="relative flex-shrink-0">
                                             <img src="<%= provider.profileImage %>" alt="<%= provider.displayName %>" class="w-20 h-20 rounded-2xl object-cover ring-4 ring-white">

                                             <% if (provider.isVerified) { %>
                                                  <div class="absolute -bottom-2 -right-2 bg-blue-500 text-white p-1.5 rounded-lg">
                                                       <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                                            <path d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" />
                                                       </svg>
                                                  </div>
                                                  <% } %>
                                        </div>

                                        <!-- Info -->
                                        <div class="flex-1 min-w-0">
                                             <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors">
                                                  <%= provider.displayName %>
                                             </h3>

                                             <!-- Location -->
                                             <p class="flex items-center text-gray-500 text-sm mt-1">
                                                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                                  </svg>
                                                  <%= provider.location?.city || 'Non spécifié' %>
                                             </p>

                                             <!-- Rating -->
                                             <div class="flex items-center mt-2">
                                                  <div class="flex items-center">
                                                       <% for(let i=0; i < 5; i++) { %>
                                                            <svg class="w-4 h-4 <%= i < Math.floor(provider.metrics.averageRating) ? 'text-yellow-400' : 'text-gray-300' %>" fill="currentColor" viewBox="0 0 20 20">
                                                                 <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                            </svg>
                                                            <% } %>
                                                  </div>
                                                  <span class="ml-2 text-sm text-gray-600">
                                                       (<%= provider.metrics.totalReviews %> avis)
                                                  </span>
                                             </div>
                                        </div>
                                   </div>

                                   <!-- Specializations -->
                                   <div class="mt-4 pt-4 border-t border-gray-100">
                                        <div class="flex flex-wrap gap-2">
                                             <% provider.specializations.slice(0, 3).forEach(spec=> { %>
                                                  <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-600">
                                                       <%= spec.split('-').map(word=> word.charAt(0).toUpperCase() + word.slice(1)).join(' ') %>
                                                  </span>
                                                  <% }) %>
                                                       <% if (provider.specializations.length> 3) { %>
                                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-50 text-gray-600">
                                                                 +<%= provider.specializations.length - 3 %>
                                                            </span>
                                                            <% } %>
                                        </div>
                                   </div>

                                   <!-- Stats -->
                                   <div class="mt-4 flex items-center justify-between text-sm text-gray-500">
                                        <span>
                                             <%= provider.metrics.totalServices %> services
                                        </span>
                                        <span>·</span>
                                        <span>
                                             <%= provider.metrics.completedBookings || 0 %> réservations
                                        </span>
                                        <span>·</span>
                                        <span>
                                             <%= Math.round(provider.metrics.responseRate * 100) || 0 %>% taux de réponse
                                        </span>
                                   </div>
                              </div>
                         </a>
                    </div>
                    <% }) %>
          </div>

          <!-- View All Link -->
          <div class="text-center mt-12">
               <a href="/providers" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 transition-colors">
                    Voir tous les prestataires
                    <svg class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                    </svg>
               </a>
          </div>
     </div>
</section>