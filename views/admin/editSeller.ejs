<%- include('../marketplace/partials/head.ejs') %>
     <%- include('partials/navbar.ejs') %>

          <div class="container mt-5">
               <h1 class="text-center mb-4">Modifier le Vendeur</h1>

               <!-- Check if there are any error messages -->
               <% if (typeof message !=='undefined' && message) { %>
                    <div class="alert alert-danger">
                         <%= message %>
                    </div>
                    <% } %>

                         <!-- Form to edit seller's details -->
                         <form action="/admin/sellers/<%= seller._id %>/edit" method="POST" class="needs-validation" novalidate>
                              <div class="mb-3">
                                   <label for="displayName" class="form-label">Nom d'Affichage</label>
                                   <input type="text" class="form-control" id="displayName" name="displayName" value="<%= seller.displayName %>" required>
                                   <div class="invalid-feedback">Le nom d'affichage est obligatoire.</div>
                              </div>

                              <div class="mb-3">
                                   <label for="email" class="form-label">Adresse Email</label>
                                   <input type="email" class="form-control" id="email" name="email" value="<%= seller.email %>" required>
                                   <div class="invalid-feedback">L'adresse email est obligatoire.</div>
                              </div>

                              <div class="mb-3">
                                   <label for="phone" class="form-label">Numéro de Téléphone</label>
                                   <input type="text" class="form-control" id="phone" name="phone" value="<%= seller.phone || '' %>" placeholder="Entrez le numéro de téléphone">
                              </div>

                              <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>
                              <a href="/admin/sellers" class="btn btn-secondary">Annuler</a>
                         </form>
          </div>

          <%- include('../marketplace/partials/footer.ejs') %>

               <script>
                    // Client-side validation
                    (function () {
                         'use strict'

                         var forms = document.querySelectorAll('.needs-validation')

                         Array.prototype.slice.call(forms)
                              .forEach(function (form) {
                                   form.addEventListener('submit', function (event) {
                                        if (!form.checkValidity()) {
                                             event.preventDefault()
                                             event.stopPropagation()
                                        }

                                        form.classList.add('was-validated')
                                   }, false)
                              })
                    })()
               </script>