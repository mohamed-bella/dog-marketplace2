<section id="articles" class="section bg-white">
     <div class="container">
          <h2 class="section-title text-center mb-5">Articles RÃ©cents</h2>
          <div class="slider-container position-relative">
               <button class="slider-arrow slider-arrow-left" onclick="moveSlideArticles(-1)">
                    <i class="fas fa-chevron-left"></i>
               </button>

               <!-- Slider for Articles -->
               <div class="slider" id="articles-slider">
                    <!-- Dynamically render articles from the database -->
                    <% articles.forEach((article, index)=> { %>
                         <div class="slider-item">
                              <div class="robust-card article-card">
                                   <div class="robust-card-image">
                                        <img src="<%= article.bannerImage || '/images/default-article.jpg' %>" alt="Article Image">
                                   </div>
                                   <div class="robust-card-body">
                                        <h3 class="robust-card-title">
                                             <%= article.title %>
                                        </h3>
                                        <p class="robust-card-text">
                                             <%= article.description %>
                                        </p>
                                   </div>
                                   <div class="robust-card-footer">
                                        <a href="/articles/<%= article.slug %>" class="robust-btn">Lire l'article</a>
                                   </div>
                              </div>
                         </div>
                         <% }); %>

                              <!-- Last slide for "View More Articles" button -->
                              <div class="slider-item">
                                   <div class="robust-card article-card-view-more">
                                        <div class="robust-card-body text-center">
                                             <h3 class="robust-card-title">Voir Plus d'Articles</h3>
                                             <a href="/articles" class="robust-btn">Voir Plus</a>
                                        </div>
                                   </div>
                              </div>
               </div>

               <button class="slider-arrow slider-arrow-right" onclick="moveSlideArticles(1)">
                    <i class="fas fa-chevron-right"></i>
               </button>
          </div>
     </div>
</section>
<style>
     /* Slider and Card Styles */
     .slider-container {
          position: relative;
          overflow: hidden;
          width: 100%;
     }

     .slider {
          display: flex;
          transition: transform 0.3s ease-in-out;
     }

     .slider-item {
          flex: 0 0 100%;
          max-width: 300px;
          padding: 0 15px;
          box-sizing: border-box;
     }

     .slider-arrow {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          width: 40px;
          height: 40px;
          background-color: var(--primary-color);
          color: var(--text-light);
          border: none;
          border-radius: 50%;
          font-size: 1.2rem;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          z-index: 10;
          opacity: 0.8;
          transition: opacity 0.3s ease;
     }

     .slider-arrow:hover {
          opacity: 1;
     }

     .slider-arrow-left {
          left: 10px;
     }

     .slider-arrow-right {
          right: 10px;
     }

     /* Article Card Styling */
     .article-card {
          background-color: var(--primary-color);
          border: 3px solid var(--border-color);
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          height: 100%;
          display: flex;
          flex-direction: column;
     }

     .article-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
     }

     .article-card-image {
          flex-grow: 1;
          overflow: hidden;
          position: relative;
          width: 100%;
          height: 200px;
     }

     .article-card-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          display: block;
     }

     .article-card-body {
          padding: 20px;
          color: var(--text-light);
          flex-grow: 0;
          flex-shrink: 0;
     }

     .article-card-title {
          margin: 0;
          font-size: 1.5rem;
          font-weight: 900;
          color: var(--accent-color);
          text-transform: uppercase;
     }

     .article-card-text {
          margin-bottom: 15px;
          font-weight: 600;
     }

     .article-card-footer {
          padding: 15px;
          background-color: var(--border-color);
          text-align: center;
          flex-shrink: 0;
     }

     .robust-btn {
          display: inline-block;
          padding: 10px 20px;
          background-color: var(--secondary-color);
          color: var(--text-dark);
          text-decoration: none;
          font-weight: 900;
          text-transform: uppercase;
          border: 2px solid var(--border-color);
          transition: all 0.3s ease;
     }

     .robust-btn:hover {
          background-color: var(--accent-color);
          color: var(--text-light);
     }

     /* View More Card Styling */
     .article-card-view-more {
          background-color: var(--secondary-color);
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
     }

     .article-card-view-more .robust-card-body {
          padding: 20px;
          color: var(--text-light);
     }

     .article-card-view-more .robust-btn {
          background-color: var(--accent-color);
          color: var(--text-dark);
          padding: 10px 30px;
          font-size: 1.2rem;
          text-transform: uppercase;
          border: 2px solid var(--border-color);
     }

     .article-card-view-more .robust-btn:hover {
          background-color: var(--primary-color);
          color: var(--text-light);
     }
</style>

<script>
     let currentArticleSlide = 0;
     const articleSlider = document.getElementById('articles-slider');
     const totalArticleSlides = articleSlider.querySelectorAll('.slider-item').length;

     function moveSlideArticles(direction) {
          const slideWidth = articleSlider.querySelector('.slider-item').offsetWidth;
          currentArticleSlide += direction;

          // Wrap around
          if (currentArticleSlide < 0) {
               currentArticleSlide = totalArticleSlides - 1;
          } else if (currentArticleSlide >= totalArticleSlides) {
               currentArticleSlide = 0;
          }

          // Move the slider
          articleSlider.style.transform = `translateX(-${currentArticleSlide * slideWidth}px)`;
     }

</script>