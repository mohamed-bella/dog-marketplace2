<!-- Latest Articles Slider Section -->
<section class="latest-articles py-5">
     <div class="container">
          <h2 class="section-title text-center mb-4">Derniers Articles</h2>

          <div class="position-relative article-slider-container">
               <div class="swiper-container article-slider">
                    <div class="swiper-wrapper">
                         <% articles.forEach(article=> { %>
                              <div class="swiper-slide">
                                   <div class="card article-card h-100">
                                        <img src="<%= article.featuredImage %>" alt="<%= article.title %>" class="card-img-top article-image">
                                        <div class="card-body d-flex flex-column">
                                             <span class="category-label mb-2">
                                                  <%= article.category || 'Non catégorisé' %>
                                             </span>
                                             <h5 class="card-title">
                                                  <%= article.title %>
                                             </h5>
                                             <p class="card-text flex-grow-1">
                                                  <%= article.summary.substring(0, 100) %>...
                                             </p>
                                             <a href="/articles/<%= article.slug %>" class="btn btn-read-more mt-auto">Lire Plus</a>
                                        </div>
                                   </div>
                              </div>
                              <% }) %>
                    </div>
               </div>
               <div class="slider-nav">
                    <button class="slider-nav-btn slider-nav-prev">
                         <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="slider-nav-btn slider-nav-next">
                         <i class="fas fa-chevron-right"></i>
                    </button>
               </div>
          </div>

          <div class="text-center mt-4">
               <a href="/articles" class="btn btn-primary">Voir tous les articles</a>
          </div>
     </div>
</section>

<style>
     .latest-articles {
          background-color: #f5f5f5;
          position: relative;
          overflow: hidden;
     }

     .latest-articles::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="%23FFFFFF" opacity="0.5"/></svg>');
          opacity: 0.3;
          z-index: 0;
     }

     .latest-articles .container {
          position: relative;
          z-index: 1;
     }

     .section-title {
          color: #333;
          font-weight: 600;
     }

     .article-slider-container {
          overflow: hidden;
          padding: 20px 0;
     }

     .article-card {
          border-radius: 15px;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
     }

     .article-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
     }

     .article-image {
          height: 200px;
          object-fit: cover;
     }

     .category-label {
          background-color: #e7e7e7;
          color: #333;
          padding: 5px 15px;
          border-radius: 15px;
          font-size: 0.9em;
          font-weight: 600;
          display: inline-block;
     }

     .card-title {
          font-size: 1.1rem;
          font-weight: 600;
          margin-top: 0.5rem;
     }

     .card-text {
          font-size: 0.9rem;
          color: #666;
     }

     .btn-read-more {
          background-color: #333;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 20px;
          font-weight: bold;
          transition: background-color 0.3s ease;
     }

     .btn-read-more:hover {
          background-color: #555;
     }

     .slider-nav {
          position: absolute;
          top: 50%;
          left: 0;
          z-index: 10;
          right: 0;
          transform: translateY(-50%);
          display: flex;
          justify-content: space-between;
          pointer-events: none;
     }

     .slider-nav-btn {
          background-color: rgba(141, 141, 255, 0.8);
          color: #ffffff;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: none;
          display: flex;
          justify-content: center;
          align-items: center;
          cursor: pointer;
          transition: background-color 0.3s ease;
          pointer-events: auto;
     }

     .slider-nav-btn:hover {
          background-color: #333;
     }

     @media (max-width: 768px) {
          .article-slider .swiper-slide {
               width: 85%;
          }
     }
</style>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<script>
     document.addEventListener('DOMContentLoaded', function () {
          const swiper = new Swiper('.article-slider', {
               slidesPerView: 'auto',
               spaceBetween: 20,
               loop: true,
               centeredSlides: true,
               breakpoints: {
                    320: {
                         slidesPerView: 1.2,
                    },
                    640: {
                         slidesPerView: 2,
                    },
                    1024: {
                         slidesPerView: 3,
                    },
               },
               autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
               },
          });

          document.querySelector('.slider-nav-prev').addEventListener('click', () => {
               swiper.slidePrev();
          });
          document.querySelector('.slider-nav-next').addEventListener('click', () => {
               swiper.slideNext();
          });
     });
</script>