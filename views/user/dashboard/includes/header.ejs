<header class="bg-white border-b border-gray-200 sticky top-0 z-30">
     <div class="px-4 sm:px-6">
         <div class="flex items-center justify-between h-16">
             <!-- Left Side -->
             <div class="flex items-center">
                 <!-- Mobile menu button -->
                 <button id="mobileSidebarToggle" class="lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100">
                     <i class="fas fa-bars text-xl"></i>
                 </button>
 
                 <!-- Logo - Show only on mobile -->
                 <div class="lg:hidden ml-2 text-xl font-bold text-primary-600">
                     NDRESSILIK
                 </div>
 
                 <!-- Desktop Navigation Title -->
                 <div class="hidden lg:flex items-center ml-4">
                     <div class="flex items-center gap-2 px-3 py-1.5 bg-primary-50 rounded-lg">
                         <span class="text-primary-600 font-medium"><%= user.role === 'professional' ? 'Professionnel' : 'Administrateur' %></span>
                     </div>
                 </div>
             </div>
 
             <!-- Center - Search Bar -->
             <div class="hidden md:flex flex-1 max-w-2xl mx-8">
                 <div class="relative w-full">
                     <input 
                         type="text" 
                         placeholder="Rechercher une consultation, un service..." 
                         class="w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-xl 
                                focus:bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
                     >
                     <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                 </div>
             </div>
 
             <!-- Right Side -->
             <div class="flex items-center gap-2 sm:gap-4">
                 <!-- Return Home -->
                 <a href="/" 
                    class="p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-colors flex items-center gap-2">
                     <i class="fas fa-home"></i>
                     <span class="hidden sm:block text-sm">Accueil</span>
                 </a>
 
                 <!-- Notifications -->
                 <div class="relative">
                     <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-colors flex items-center gap-2">
                         <div class="relative">
                             <i class="fas fa-bell"></i>
                             <span class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                         </div>
                         <span class="hidden sm:block text-sm">Notifications</span>
                     </button>
                 </div>
 
                 <!-- Profile Dropdown -->
                 <div class="relative ml-2" id="profileDropdown">
                     <button id="profileDropdownButton" 
                             class="flex items-center gap-3 p-2 hover:bg-gray-100 rounded-xl transition-colors">
                         <!-- Profile Image -->
                         <div class="relative">
                             <img src="<%= user.profileImage || 'https://via.placeholder.com/150' %>" 
                                  alt="Profile" 
                                  class="w-8 h-8 rounded-full object-cover ring-2 ring-white">
                             <div class="absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full ring-2 ring-white"></div>
                         </div>
 
                         <!-- Name and Role - Hide on mobile -->
                         <div class="hidden sm:block text-left">
                             <p class="text-sm font-medium text-gray-700 line-clamp-1">
                                 <%= user.displayName %>
                             </p>
                             <p class="text-xs text-gray-500 line-clamp-1">
                                 <%= user.email %>
                             </p>
                         </div>
 
                         <i class="fas fa-chevron-down text-gray-400 ml-1"></i>
                     </button>
 
                     <!-- Dropdown Menu -->
                     <div id="profileDropdownMenu" 
                          class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg py-2 z-50 
                                 opacity-0 scale-95 transition-all duration-100 ease-out pointer-events-none
                                 border border-gray-100">
                         <!-- User Info -->
                         <div class="px-4 py-2 border-b border-gray-100">
                             <p class="text-sm font-medium text-gray-900"><%= user.displayName %></p>
                             <p class="text-xs text-gray-500"><%= user.email %></p>
                         </div>
 
                         <!-- Menu Items -->
                         <div class="p-2 space-y-1">
                             <a href="/dashboard/profile" 
                                class="flex items-center gap-3 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg">
                                 <i class="fas fa-user w-5 text-gray-400"></i>
                                 Mon Profil
                             </a>
                             <a href="/dashboard/settings" 
                                class="flex items-center gap-3 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg">
                                 <i class="fas fa-cog w-5 text-gray-400"></i>
                                 Paramètres
                             </a>
                             <a href="/help" 
                                class="flex items-center gap-3 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg">
                                 <i class="fas fa-question-circle w-5 text-gray-400"></i>
                                 Aide
                             </a>
                         </div>
 
                         <!-- Logout -->
                         <div class="p-2 border-t border-gray-100">
                             <a href="/logout" 
                                class="flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg">
                                 <i class="fas fa-sign-out-alt w-5"></i>
                                 Déconnexion
                             </a>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
     </div>
 
     <!-- Search Bar for Mobile -->
     <div class="lg:hidden p-4 border-t border-gray-200">
         <div class="relative">
             <input 
                 type="text" 
                 placeholder="Rechercher..." 
                 class="w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-xl 
                        focus:bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
             >
             <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
         </div>
     </div>
 </header>
 
 <script>
 // Toggle dropdown menu
 const dropdownButton = document.getElementById('profileDropdownButton');
 const dropdownMenu = document.getElementById('profileDropdownMenu');
 let isDropdownOpen = false;
 
 function toggleDropdown() {
     isDropdownOpen = !isDropdownOpen;
     if (isDropdownOpen) {
         dropdownMenu.classList.remove('opacity-0', 'scale-95', 'pointer-events-none');
         dropdownMenu.classList.add('opacity-100', 'scale-100');
     } else {
         dropdownMenu.classList.add('opacity-0', 'scale-95', 'pointer-events-none');
         dropdownMenu.classList.remove('opacity-100', 'scale-100');
     }
 }
 
 dropdownButton.addEventListener('click', (e) => {
     e.stopPropagation();
     toggleDropdown();
 });
 
 // Close dropdown when clicking outside
 document.addEventListener('click', () => {
     if (isDropdownOpen) {
         toggleDropdown();
     }
 });
 
 // Mobile sidebar toggle
 const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
 mobileSidebarToggle.addEventListener('click', () => {
     document.body.classList.toggle('sidebar-open');
 });
 </script>