<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Admin Login | Ndressilik</title>
     <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
     <style>
          :root {
               --primary-color: #4a90e2;
               --secondary-color: #f5f6fa;
               --text-color: #333;
               --error-color: #e74c3c;
          }

          * {
               box-sizing: border-box;
               margin: 0;
               padding: 0;
          }

          body {
               font-family: 'Poppins', sans-serif;
               background-color: var(--secondary-color);
               display: flex;
               justify-content: center;
               align-items: center;
               min-height: 100vh;
               padding: 20px;
          }

          .login-form {
               background-color: #fff;
               padding: 40px;
               border-radius: 10px;
               box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
               width: 100%;
               max-width: 400px;
          }

          h2 {
               color: var(--primary-color);
               text-align: center;
               margin-bottom: 30px;
               font-weight: 600;
          }

          .form-group {
               margin-bottom: 20px;
          }

          label {
               display: block;
               margin-bottom: 5px;
               color: var(--text-color);
               font-weight: 500;
          }

          input {
               width: 100%;
               padding: 10px;
               border: 1px solid #ddd;
               border-radius: 5px;
               font-size: 16px;
               transition: border-color 0.3s ease;
          }

          input:focus {
               outline: none;
               border-color: var(--primary-color);
          }

          button {
               width: 100%;
               padding: 12px;
               background-color: var(--primary-color);
               color: #fff;
               border: none;
               border-radius: 5px;
               font-size: 16px;
               cursor: pointer;
               transition: background-color 0.3s ease;
          }

          button:hover {
               background-color: #3a7bd5;
          }

          .alert {
               padding: 10px;
               background-color: var(--error-color);
               color: #fff;
               border-radius: 5px;
               margin-bottom: 20px;
               text-align: center;
          }

          @keyframes shake {

               0%,
               100% {
                    transform: translateX(0);
               }

               10%,
               30%,
               50%,
               70%,
               90% {
                    transform: translateX(-5px);
               }

               20%,
               40%,
               60%,
               80% {
                    transform: translateX(5px);
               }
          }

          .shake {
               animation: shake 0.82s cubic-bezier(.36, .07, .19, .97) both;
          }
     </style>
</head>

<body>
     <div class="login-form">
          <h2>Admin Login</h2>
          <% if (messages.error && messages.error.length> 0) { %>
               <div class="alert shake">
                    <%= messages.error[0] %> <!-- This will display the first error message -->
               </div>
               <% } %>

                    <form action="/admin/login" method="POST">
                         <div class="form-group">
                              <label for="username">Username</label>
                              <input type="text" name="username" id="username" required autocomplete="username">
                         </div>
                         <div class="form-group">
                              <label for="password">Password</label>
                              <input type="password" name="password" id="password" required autocomplete="current-password">
                         </div>
                         <button type="submit">Login</button>
                    </form>
     </div>

     <script>
          // Add shake animation to form on submission if there's an error
          document.addEventListener('DOMContentLoaded', function () {
               const form = document.querySelector('form');
               const alert = document.querySelector('.alert');

               if (alert) {
                    form.classList.add('shake');
                    form.addEventListener('animationend', function () {
                         form.classList.remove('shake');
                    });
               }
          });
     </script>
</body>

</html>