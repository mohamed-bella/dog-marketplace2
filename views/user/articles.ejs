<%- include('include/head.ejs') %>
     <style>
          .grainy {
               background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
               background-repeat: repeat;
               background-size: 200px 200px;
          }
     </style>
     </head>

     <body class="bg-gray-50 font-[Inter]">
          <%- include('include/navbar.ejs') %>

               <div class="min-h-screen ">
                    <div class="container mx-auto px-4 py-12">
                         <!-- Hero Section -->
                         <div class="max-w-4xl mx-auto text-center mb-16">
                              <h1 class="text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600">
                                   Découvrez Nos Articles
                              </h1>
                              <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                                   Explorez nos articles sur le dressage de chiens, le comportement canin, et bien plus encore.
                              </p>
                         </div>

                         <div class="flex flex-col lg:flex-row gap-8">
                              <!-- Sidebar -->
                              <div class="lg:w-1/4">
                                   <div class="bg-white rounded-2xl shadow-sm p-6 sticky top-4">
                                        <h2 class="text-xl font-semibold mb-4">Categories</h2>
                                        <nav class="space-y-1">
                                             <a href="/articles/category/dog-sitters" class="flex items-center text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-xl py-3 px-4 transition-all duration-200">
                                                  <i class="fas fa-paw mr-3 text-blue-500"></i>
                                                  Dog Sitters
                                             </a>
                                             <a href="/articles/category/dressage" class="flex items-center text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-xl py-3 px-4 transition-all duration-200">
                                                  <i class="fas fa-dog mr-3 text-blue-500"></i>
                                                  Dressage
                                             </a>
                                             <a href="/articles/category/veterinaire" class="flex items-center text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-xl py-3 px-4 transition-all duration-200">
                                                  <i class="fas fa-stethoscope mr-3 text-blue-500"></i>
                                                  Vétérinaire
                                             </a>
                                        </nav>
                                   </div>
                              </div>

                              <!-- Main Content -->
                              <div class="lg:w-3/4">
                                   <!-- Articles Grid -->
                                   <div class="grid md:grid-cols-2 gap-6">
                                        <% articles.forEach(article=> { %>
                                             <article class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300">
                                                  <div class="aspect-video overflow-hidden">
                                                       <img src="<%= article.featuredImage %>" alt="<%= article.title %>" class="w-full h-full object-cover transform hover:scale-105 transition-transform duration-500">
                                                  </div>
                                                  <div class="p-6">
                                                       <!-- Category & Date -->
                                                       <div class="flex items-center gap-4 mb-4">
                                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                                                                 <i class="fas fa-folder mr-2"></i>
                                                                 <%= article.category %>
                                                            </span>
                                                            <span class="text-gray-500 text-sm">
                                                                 <%= new Date(article.publicationDate).toLocaleDateString('fr-FR', { year: 'numeric' , month: 'long' , day: 'numeric' }) %>
                                                            </span>
                                                       </div>

                                                       <!-- Title & Summary -->
                                                       <h2 class="text-xl font-bold mb-3 text-gray-800 hover:text-blue-600 transition-colors">
                                                            <%= article.title %>
                                                       </h2>
                                                       <p class="text-gray-600 mb-4 line-clamp-3">
                                                            <%= article.summary %>
                                                       </p>

                                                       <!-- Author & Read More -->
                                                       <div class="flex items-center justify-between mt-6">
                                                            <div class="flex items-center space-x-3">
                                                                 <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center">
                                                                      <i class="fas fa-user text-gray-500"></i>
                                                                 </div>
                                                                 <span class="text-sm text-gray-600">
                                                                      <%= article.author %>
                                                                 </span>
                                                            </div>
                                                            <a href="/articles/<%= article.slug %>" class="inline-flex items-center text-blue-600 hover:text-blue-700 font-medium">
                                                                 Lire plus
                                                                 <i class="fas fa-arrow-right ml-2"></i>
                                                            </a>
                                                       </div>

                                                       <!-- Tags -->
                                                       <% if (article.tags && article.tags.length> 0) { %>
                                                            <div class="mt-4 flex flex-wrap gap-2">
                                                                 <% article.tags.filter(tag=> tag !== '').forEach(tag => { %>
                                                                      <span class="inline-block px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-md">
                                                                           #<%= tag %>
                                                                      </span>
                                                                      <% }) %>
                                                            </div>
                                                            <% } %>
                                                  </div>
                                             </article>
                                             <% }) %>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
     </body>

     </html>