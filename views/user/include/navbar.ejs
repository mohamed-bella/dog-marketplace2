<nav class="navbar navbar-expand-lg navbar-light bg-white py-2 fixed-top">
     <div class="container">
          <a class="navbar-brand" href="/"><img src="/uploads/logo-top-navbar.png" alt="ndressilik logo-top-navbar" style="height: 40px;"></a>

          <!-- Mobile view buttons -->
          <div class="d-flex align-items-center d-lg-none">
               <a href="/auth/google" class="btn btn-dark me-2">Ajouter</a>
               <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbarOffcanvas" aria-controls="navbarOffcanvas">
                    <span class="navbar-toggler-icon"></span>
               </button>
          </div>

          <!-- Desktop view menu -->
          <div class="collapse navbar-collapse" id="navbarNav">
               <ul class="navbar-nav ms-auto align-items-center">
                    <% if (user) { %>
                         <li class="nav-item">
                              <a class="nav-link" href="/dashboard">Dashboard</a>
                         </li>
                         <li class="nav-item">
                              <a class="nav-link" href="/logout">Logout</a>
                         </li>
                         <% } else { %>
                              <li class="nav-item">
                                   <a class="nav-link" href="/auth/google">Log in with Google</a>
                              </li>
                              <% } %>
                                   <li class="nav-item d-none d-lg-block">
                                        <a href="/auth/google" class="btn btn-dark ms-2">Ajouter une annonce</a>
                                   </li>
               </ul>
          </div>

          <!-- Mobile view offcanvas -->
          <div class="offcanvas offcanvas-end d-lg-none" tabindex="-1" id="navbarOffcanvas" aria-labelledby="navbarOffcanvasLabel">
               <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="navbarOffcanvasLabel">Menu</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
               </div>
               <div class="offcanvas-body">
                    <ul class="navbar-nav">
                         <% if (user) { %>
                              <li class="nav-item">
                                   <a class="nav-link" href="/dashboard">Dashboard</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="/logout">Logout</a>
                              </li>
                              <% } else { %>
                                   <li class="nav-item">
                                        <a class="nav-link" href="/auth/google">Log in with Google</a>
                                   </li>
                                   <% } %>
                    </ul>
               </div>
          </div>
     </div>
</nav>

<style>
     body {
          padding-top: 60px;
     }

     .navbar {
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          padding: 10px 0 !important;
     }

     .nav-link {
          font-size: 1rem;
          font-weight: 500;
          color: #000;
          transition: color 0.3s ease;
     }

     .nav-link:hover {
          color: #333;
     }

     .navbar-brand {
          font-size: 1.2rem;
     }

     .btn-dark {
          background-color: #000;
          color: #fff;
          border: none;
          padding: 8px 16px;
          font-weight: 500;
          transition: background-color 0.3s ease;
     }

     .btn-dark:hover {
          background-color: #333;
          color: #fff;
     }

     .navbar-toggler {
          border: none;
          padding: 4px 8px;
          font-size: 1rem;
     }

     .navbar-toggler:focus {
          box-shadow: none;
     }

     @media (max-width: 991.98px) {
          .offcanvas {
               width: 75%;
               max-width: 300px;
          }
     }

     .offcanvas-header,
     .offcanvas-body {
          padding-left: 20px;
          padding-right: 20px;
     }

     .offcanvas-title {
          font-weight: 600;
     }

     .navbar-nav .nav-link {
          padding: 10px 0;
     }

     @media (min-width: 992px) {
          body {
               padding-top: 70px;
          }

          .navbar-nav .nav-link {
               padding: 8px 16px;
          }
     }
</style>

<script>
     document.addEventListener('DOMContentLoaded', function () {
          var offcanvas = document.getElementById('navbarOffcanvas');
          var bsOffcanvas = new bootstrap.Offcanvas(offcanvas);

          // Close the offcanvas when a nav link is clicked
          var navLinks = offcanvas.querySelectorAll('.nav-link');
          navLinks.forEach(function (navLink) {
               navLink.addEventListener('click', function () {
                    bsOffcanvas.hide();
               });
          });
     });
</script>