<%- include('include/head.ejs') %>
     <style>
          .grainy {
               background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
               background-repeat: repeat;
               background-size: 200px 200px;
          }
     </style>

     <body class="bg-[#F0F2F5] ">
          <%- include('include/navbar.ejs') %>

               <div class=" min-h-screen pt-16 lg:pt-20 ">
                     <!-- Articles Header -->
             <div class="flex justify-between items-center mb-8 max-w-3xl mx-auto">
               <h2 class="text-2xl md:text-3xl font-bold text-gray-900">Articles & Conseils</h2>
               <a href="/articles" class="text-primary-600 hover:text-primary-700 font-medium flex items-center">
                   Voir tous
                   <i class="fas fa-arrow-right ml-2"></i>
               </a>
           </div>

                    <!-- Main Content -->
                    <div class="max-w-3xl mx-auto px-4 py-6">
                        <!-- Articles List -->
<div class="grid grid-cols-1 gap-6">
     <% articles.forEach(article => { %>
         <a href="/articles/<%= article.slug %>" class="group block">
             <article class="h-full bg-white rounded-3xl overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-lg border border-gray-100">
                 <div class="sm:flex">
                     <!-- Image Container -->
                     <div class="sm:w-72 sm:h-auto h-48 relative flex-shrink-0">
                         <img 
                             src="<%= article.featuredImage %>" 
                             alt="<%= article.title %>" 
                             class="w-full h-full object-cover"
                         >
                         <!-- Category Badge -->
                         <div class="absolute top-4 left-4">
                             <span class="px-4 py-2 rounded-full text-sm font-medium bg-white/90 text-primary-600 backdrop-blur-sm">
                                 <%= article.category %>
                             </span>
                         </div>
                     </div>
 
                     <!-- Content Container -->
                     <div class="flex-1 p-8">
                         <!-- Icon and Date Row -->
                         <div class="flex items-center justify-between mb-6">
                             <div class="w-12 h-12 rounded-2xl bg-primary-50 flex items-center justify-center group-hover:scale-110 transition-transform">
                                 <i class="fas fa-newspaper text-xl text-primary-500"></i>
                             </div>
                             <div class="text-sm text-gray-500">
                                 <i class="fas fa-calendar-alt mr-2"></i>
                                 <%= new Date(article.publicationDate).toLocaleDateString('fr-FR', { 
                                     year: 'numeric', 
                                     month: 'long', 
                                     day: 'numeric' 
                                 }) %>
                             </div>
                         </div>
 
                         <!-- Title -->
                         <h2 class="text-xl font-bold text-gray-900 mb-3 group-hover:text-primary-600 transition-colors">
                             <%= article.title %>
                         </h2>
 
                         <!-- Summary -->
                         <p class="text-gray-600 mb-6 line-clamp-2">
                             <%= article.summary %>
                         </p>
 
                         <!-- Footer -->
                         <div class="flex items-center justify-between pt-6 border-t border-gray-100">
                             <!-- Author -->
                             <div class="flex items-center gap-3">
                                 <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center">
                                     <i class="fas fa-user text-gray-500"></i>
                                 </div>
                                 <span class="font-medium text-gray-700">
                                     <%= article.author %>
                                 </span>
                             </div>
 
                             <!-- Tags -->
                             <% if (article.tags && article.tags.length > 0) { %>
                                 <div class="flex gap-3">
                                     <% article.tags.slice(0, 2).filter(tag => tag !== '').forEach(tag => { %>
                                         <span class="text-sm text-gray-500 hover:text-primary-600 transition-colors">
                                             #<%= tag %>
                                         </span>
                                     <% }) %>
                                     <% if (article.tags.length > 2) { %>
                                         <span class="text-sm text-gray-400">
                                             +<%= article.tags.length - 2 %>
                                         </span>
                                     <% } %>
                                 </div>
                             <% } %>
                         </div>
 
                         <!-- Read More Link -->
                         <div class="flex items-center text-primary-600 font-medium mt-6">
                             Lire l'article
                             <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                         </div>
                     </div>
                 </div>
             </article>
         </a>
     <% }) %>
 </div>
 
 <style>
 .line-clamp-2 {
     display: -webkit-box;
     -webkit-line-clamp: 2;
     -webkit-box-orient: vertical;
     overflow: hidden;
 }
 </style>

                         <!-- Load More / Pagination -->
                         <div class="mt-8 text-center">
                              <button class="inline-flex items-center gap-2 px-6 py-2.5 bg-blue-500 hover:bg-blue-600 
                              text-white text-sm font-medium rounded-lg transition-colors">
                                   Voir plus d'articles
                                   <i class="fas fa-arrow-down text-xs"></i>
                              </button>
                         </div>
                    </div>
               </div>

               <!-- Optional: Quick scroll to top button -->
               <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="fixed bottom-6 right-6 p-3 bg-white shadow-lg rounded-full 
                   hover:shadow-xl transition-shadow duration-200
                   opacity-0 invisible transform translate-y-4
                   scrolled:opacity-100 scrolled:visible scrolled:translate-y-0">
                    <i class="fas fa-arrow-up text-gray-600"></i>
               </button>
     </body>

     <script>
          // Scroll to top button visibility
          window.addEventListener('scroll', () => {
               const scrollButton = document.querySelector('button[onclick="window.scrollTo"]');
               if (scrollButton) {
                    scrollButton.classList.toggle('scrolled', window.scrollY > 500);
               }
          });
     </script>

     <style>
          /* Transitions */
          .scrolled\:opacity-100.scrolled {
               opacity: 1;
          }

          .scrolled\:visible.scrolled {
               visibility: visible;
          }

          .scrolled\:translate-y-0.scrolled {
               transform: translateY(0);
          }

          /* Line clamp */
          .line-clamp-2 {
               display: -webkit-box;
               -webkit-line-clamp: 2;
               -webkit-box-orient: vertical;
               overflow: hidden;
          }

          /* Smooth transitions */
          .transition-all {
               transition-property: all;
               transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
               transition-duration: 200ms;
          }
     </style>

     </html>