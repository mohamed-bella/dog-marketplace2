<!-- views/partials/dashboard/recent-activity.ejs -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
     <!-- Recent Reservations -->
     <div class="lg:col-span-2 bg-white rounded-xl shadow-sm">
          <div class="p-6 border-b">
               <h2 class="text-xl font-semibold text-gray-800">Réservations Récentes</h2>
          </div>
          <div class="divide-y">
               <% recentReservations.forEach(reservation=> { %>
                    <div class="p-6 hover:bg-gray-50">
                         <div class="flex items-center space-x-4">
                              <img src="<%= reservation.user.avatar || '/images/default-avatar.png' %>" alt="Client" class="w-12 h-12 rounded-full">
                              <div class="flex-1">
                                   <div class="flex items-center justify-between">
                                        <h3 class="font-medium text-gray-900">
                                             <%= reservation.user.name %>
                                        </h3>
                                        <span class="text-sm text-gray-500">
                                             <%= reservation.formattedDate %>
                                        </span>
                                   </div>
                                   <p class="text-gray-600">
                                        <%= reservation.service.serviceName %>
                                   </p>
                                   <div class="mt-2">
                                        <span class="px-3 py-1 rounded-full text-sm
                                    <%= reservation.status === 'confirmed' ? 'bg-green-100 text-green-800' : 
                                       reservation.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                                       'bg-red-100 text-red-800' %>">
                                             <%= reservation.status==='confirmed' ? 'Confirmé' : reservation.status==='pending' ? 'En attente' : 'Annulé' %>
                                        </span>
                                   </div>
                              </div>
                         </div>
                    </div>
                    <% }); %>
          </div>
     </div>

     <!-- Recent Reviews -->
     <div class="bg-white rounded-xl shadow-sm">
          <div class="p-6 border-b">
               <h2 class="text-xl font-semibold text-gray-800">Derniers Avis</h2>
          </div>
          <div class="divide-y">
               <% recentReviews.forEach(review=> { %>
                    <div class="p-6 hover:bg-gray-50">
                         <div class="flex items-start space-x-4">
                              <img src="<%= review.user.avatar || '/images/default-avatar.png' %>" alt="Client" class="w-10 h-10 rounded-full">
                              <div class="flex-1">
                                   <div class="flex items-center justify-between">
                                        <h3 class="font-medium text-gray-900">
                                             <%= review.user.name %>
                                        </h3>
                                        <div class="flex text-yellow-400">
                                             <% for(let i=0; i < 5; i++) { %>
                                                  <i class="fas fa-star <%= i < review.rating ? 'text-yellow-400' : 'text-gray-300' %>"></i>
                                                  <% } %>
                                        </div>
                                   </div>
                                   <p class="text-sm text-gray-600 mt-1">
                                        <%= review.comment %>
                                   </p>
                                   <span class="text-sm text-gray-500 mt-2 block">
                                        <%= review.formattedDate %>
                                   </span>
                              </div>
                         </div>
                    </div>
                    <% }); %>
          </div>
     </div>
</div>